---
layout: post
comments: true
date: 2017-05-10
categories: python SciPy
tags: SciPy Anaconda  NumPy Matplotlib IPython Sympy pandas Tensorflow Theano
---

* content
{:toc}

SciPy是一个基于Python的开源生态系统，也称为<code>SciPy技术栈</code>，主要为数学计算、科学研究以及工程计算提供服务。

Anaconda则是SciPy技术栈的发行版，它解决了SciPy技术栈各个组件之间的兼容、以及管理工作。
![SciPy stack](http://7xriy2.com1.z0.glb.clouddn.com/SciPy%20stack.png "SciPy stack")



下面是SciPy生态圈中一些常用的包：

 - NumPy

NumPy是Python科学计算中的一个比较基础的包，它主要有下面几项功能：

a.强大的矩阵计算能力

b.用于整合C/C++和Fortran代码的工具包

c.比较成熟的（广播）函数库

d.支持线性代数求解、傅里叶变换，以及随机数处理

- SciPy library

SciPy是组成SciPy技术栈的核心包之一，它的相关API使用起来都比较友好，且执行效率高。

- Matplotlib

Matplotlib是一个基于Python的2D绘图库，能绘制出出版社级别的高质量图。

- IPython

一个功能强大的Python命令行，也是Jupyter的内核。
关于Jupyter，被人们广为熟知的有Jupyter Notebook，之前的名字叫IPython Notebook，是一个交互式笔记本，可以运行几十种语言。在Jupyter Notebook中，代码可以实时的生成图像、视频等。

- Sympy

基于Python的符号计算包。

- pandas

pandas提供一些高效、易用的数据结构，以及数据分析工具。


## 1.SciPy技术栈的安装

直接使用pip安装
```
pip install --user numpy scipy matplotlib ipython jupyter pandas sympy nose
```

## 2.NumPy&scipy测试

```
>>> import numpy as np
>>> a = np.arange(15).reshape(3, 5)
>>> a
array([[ 0,  1,  2,  3,  4],
       [ 5,  6,  7,  8,  9],
       [10, 11, 12, 13, 14]])
>>> a.shape
(3, 5)
>>> a.ndim
2
>>> a.dtype.name
'int64'
>>> a.itemsize
8
>>> a.size
15
>>> type(a)
<type 'numpy.ndarray'>
>>> b = np.array([6, 7, 8])
>>> b
array([6, 7, 8])
>>> type(b)
<type 'numpy.ndarray'>
```

```
$ python
>>> import numpy as np
>>> np.test('full')
>>> import scipy
>>> scipy.test()
```

## 2.Matplotlib测试

关于matplotlib的例子，在http://matplotlib.org/examples/index.html这里有很多，下面随机选了两个运行一下作为例子让大家看下。

- animate_decay

```
python animate_decay.py
```

![animate_decay](http://7xriy2.com1.z0.glb.clouddn.com/animate_decay.gif "animate_decay")

- dynamic_image

```
python dynamic_image.py
```

![dynamic_image](http://7xriy2.com1.z0.glb.clouddn.com/dynamic_image.gif "dynamic_image")



## 3.IPython

直接使用命令ipython进入

## 4.关于SciPy技术栈的发行版

我们知道SciPy技术栈内有很多技术组件，那么不同的组件配合使用时，肯定会有兼容的问题。我们期望能有个工具，它可以帮助我们管理SciPy技术栈的各个组件，保证他们的兼容性，同事也方便我们安装管理。它就是<code>Anaconda</code>。

可以在这里选择自己的操作系统环境<code>https://www.continuum.io/downloads</code>.
笔者使用的是macOS，在安装了Anaconda之后，系统的Python环境都变为了Anaconda安装的python了：

```
leocookMacBook-Pro:~ leocook$ which python
/Users/wulin/anaconda/bin/python
leocookMacBook-Pro:~ leocook$ whereis python
/usr/bin/python
leocookMacBook-Pro:~ leocook$ python
Python 2.7.13 |Anaconda 4.3.1 (x86_64)| (default, Dec 20 2016, 23:05:08)
[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
Anaconda is brought to you by Continuum Analytics.
Please check out: http://continuum.io/thanks and https://anaconda.org
>>>
```

可以使用Anaconda命令查看我们安装了SciPy技术栈中的哪些组件：

```
leocookMacBook-Pro:~ leocook$ conda list
# packages in environment at /Users/leocook/anaconda:
#
_license                  1.1                      py27_1
alabaster                 0.7.9                    py27_0
anaconda                  4.3.1               np111py27_0
anaconda-client           1.6.0                    py27_0
anaconda-navigator        1.5.0                    py27_0
anaconda-project          0.4.1                    py27_0
appdirs                   1.4.3                     <pip>
appnope                   0.1.0                    py27_0
appscript                 1.0.1                    py27_0
argcomplete               1.0.0                    py27_1
astroid                   1.4.9                    py27_0
astropy                   1.3                 np111py27_0
babel                     2.3.4                    py27_0
backports                 1.0                      py27_0
backports_abc             0.5                      py27_0
beautifulsoup4            4.5.3                    py27_0
bitarray                  0.8.1                    py27_0
blaze                     0.10.1                   py27_0
bokeh                     0.12.4                   py27_0
boto                      2.45.0                   py27_0
bottleneck                1.2.0               np111py27_0
cdecimal                  2.3                      py27_2
cffi                      1.9.1                    py27_0
chardet                   2.3.0                    py27_0
chest                     0.2.3                    py27_0
click                     6.7                      py27_0
cloudpickle               0.2.2                    py27_0
clyent                    1.2.2                    py27_0
colorama                  0.3.7                    py27_0
conda                     4.3.17                   py27_0
conda-env                 2.6.0                         0
configobj                 5.0.6                    py27_0
configparser              3.5.0                    py27_0
contextlib2               0.5.4                    py27_0
cryptography              1.7.1                    py27_0
curl                      7.52.1                        0
cycler                    0.10.0                   py27_0
cython                    0.25.2                   py27_0
cytoolz                   0.8.2                    py27_0
dask                      0.13.0                   py27_0
datashape                 0.5.4                    py27_0
decorator                 4.0.11                   py27_0
dill                      0.2.5                    py27_0
docutils                  0.13.1                   py27_0
entrypoints               0.2.2                    py27_0
enum34                    1.1.6                    py27_0
et_xmlfile                1.0.1                    py27_0
fastcache                 1.0.2                    py27_1
flask                     0.12                     py27_0
flask-cors                3.0.2                    py27_0
freetype                  2.5.5                         2
funcsigs                  1.0.2                     <pip>
funcsigs                  1.0.2                    py27_0
functools32               3.2.3.2                  py27_0
futures                   3.0.5                    py27_0
get_terminal_size         1.0.0                    py27_0
gevent                    1.2.1                    py27_0
greenlet                  0.4.11                   py27_0
grin                      1.2.1                    py27_3
h5py                      2.6.0               np111py27_2
hdf5                      1.8.17                        1
heapdict                  1.0.0                    py27_1
icu                       54.1                          0
idna                      2.2                      py27_0
imagesize                 0.7.1                    py27_0
ipaddress                 1.0.18                   py27_0
ipykernel                 4.5.2                    py27_0
ipython                   5.1.0                    py27_1
ipython_genutils          0.1.0                    py27_0
ipywidgets                5.2.2                    py27_1
isort                     4.2.5                    py27_0
itsdangerous              0.24                     py27_0
jbig                      2.1                           0
jdcal                     1.3                      py27_0
jedi                      0.9.0                    py27_1
jinja2                    2.9.4                    py27_0
jpeg                      9b                            0
jsonschema                2.5.1                    py27_0
jupyter                   1.0.0                    py27_3
jupyter_client            4.4.0                    py27_0
jupyter_console           5.0.0                    py27_0
jupyter_core              4.2.1                    py27_0
Keras                     2.0.4                     <pip>
lazy-object-proxy         1.2.2                    py27_0
libgpuarray               0.6.4                         0
libiconv                  1.14                          0
libpng                    1.6.27                        0
libtiff                   4.0.6                         3
libxml2                   2.9.4                         0
libxslt                   1.1.29                        0
llvmlite                  0.15.0                   py27_0
locket                    0.2.0                    py27_1
lxml                      3.7.2                    py27_0
mako                      1.0.6                    py27_0
markupsafe                0.23                     py27_2
matplotlib                2.0.0               np111py27_0
mistune                   0.7.3                    py27_1
mkl                       2017.0.1                      0
mkl-service               1.1.2                    py27_3
mock                      2.0.0                     <pip>
mpmath                    0.19                     py27_1
multipledispatch          0.4.9                    py27_0
nbconvert                 4.2.0                    py27_0
nbformat                  4.2.0                    py27_0
networkx                  1.11                     py27_0
nltk                      3.2.2                    py27_0
nose                      1.3.7                    py27_1
notebook                  4.3.1                    py27_0
numba                     0.30.1              np111py27_0
numexpr                   2.6.1               np111py27_2
numpy                     1.12.1                    <pip>
numpy                     1.11.3                   py27_0
numpydoc                  0.6.0                    py27_0
odo                       0.5.0                    py27_1
openpyxl                  2.4.1                    py27_0
openssl                   1.0.2k                        1
packaging                 16.8                      <pip>
pandas                    0.19.2              np111py27_1
partd                     0.3.7                    py27_0
path.py                   10.0                     py27_0
pathlib2                  2.2.0                    py27_0
patsy                     0.4.1                    py27_0
pbr                       3.0.0                     <pip>
pep8                      1.7.0                    py27_0
pexpect                   4.2.1                    py27_0
pickleshare               0.7.4                    py27_0
pillow                    4.0.0                    py27_0
pip                       9.0.1                    py27_1
ply                       3.9                      py27_0
prompt_toolkit            1.0.9                    py27_0
protobuf                  3.3.0                     <pip>
psutil                    5.0.1                    py27_0
ptyprocess                0.5.1                    py27_0
py                        1.4.32                   py27_0
pyasn1                    0.1.9                    py27_0
pyaudio                   0.2.7                    py27_0
pycosat                   0.6.1                    py27_1
pycparser                 2.17                     py27_0
pycrypto                  2.6.1                    py27_4
pycurl                    7.43.0                   py27_2
pyflakes                  1.5.0                    py27_0
pygments                  2.1.3                    py27_0
pygpu                     0.6.4                    py27_0
pylint                    1.6.4                    py27_1
pyopenssl                 16.2.0                   py27_0
pyparsing                 2.2.0                     <pip>
pyparsing                 2.1.4                    py27_0
pyqt                      5.6.0                    py27_1
pytables                  3.3.0               np111py27_0
pytest                    3.0.5                    py27_0
python                    2.7.13                        0
python-dateutil           2.6.0                    py27_0
python.app                1.2                      py27_4
pytz                      2016.10                  py27_0
pyyaml                    3.12                     py27_0
pyzmq                     16.0.2                   py27_0
qt                        5.6.2                         0
qtawesome                 0.4.3                    py27_0
qtconsole                 4.2.1                    py27_1
qtpy                      1.2.1                    py27_0
readline                  6.2                           2
redis                     3.2.0                         0
redis-py                  2.10.5                   py27_0
requests                  2.12.4                   py27_0
rope                      0.9.4                    py27_1
ruamel_yaml               0.11.14                  py27_1
scandir                   1.4                      py27_0
scikit-image              0.12.3              np111py27_1
scikit-learn              0.18.1              np111py27_1
scipy                     0.18.1              np111py27_1
seaborn                   0.7.1                    py27_0
setuptools                27.2.0                   py27_0
setuptools                35.0.2                    <pip>
simplegeneric             0.8.1                    py27_1
singledispatch            3.4.0.3                  py27_0
sip                       4.18                     py27_0
six                       1.10.0                   py27_0
six                       1.10.0                    <pip>
snowballstemmer           1.2.1                    py27_0
sockjs-tornado            1.0.3                    py27_0
sphinx                    1.5.1                    py27_0
spyder                    3.1.2                    py27_0
sqlalchemy                1.1.5                    py27_0
sqlite                    3.13.0                        0
ssl_match_hostname        3.4.0.2                  py27_1
statsmodels               0.6.1               np111py27_1
subprocess32              3.2.7                    py27_0
sympy                     1.0                      py27_0
tensorflow                1.1.0                     <pip>
terminado                 0.6                      py27_0
theano                    0.9.0                    py27_0
tk                        8.5.18                        0
toolz                     0.8.2                    py27_0
tornado                   4.4.2                    py27_0
traitlets                 4.3.1                    py27_0
unicodecsv                0.14.1                   py27_0
wcwidth                   0.1.7                    py27_0
Werkzeug                  0.12.1                    <pip>
werkzeug                  0.11.15                  py27_0
wheel                     0.29.0                    <pip>
wheel                     0.29.0                   py27_0
widgetsnbextension        1.2.6                    py27_0
wrapt                     1.10.8                   py27_0
xlrd                      1.0.0                    py27_0
xlsxwriter                0.9.6                    py27_0
xlwings                   0.10.2                   py27_0
xlwt                      1.2.0                    py27_0
xz                        5.2.2                         1
yaml                      0.1.6                         0
zlib                      1.2.8                         3
```

## 5.使用Anaconda管理软件包

### 5.1. 安装Theano

Theano是一个基于Python的深度学习库。默认Theano是没有被安装的，那么我们下面使用Anaconda来安装它。
首先我们使用命令来查看一下Theano包的情况：

```
leocookMacBook-Pro:~ leocook$ conda search theano
```

然后得到：
```

Fetching package metadata .........
theano                       0.8.2                    py35_0  defaults
                             0.8.2                    py34_0  defaults
                             0.8.2                    py27_0  defaults
                             0.9.0                    py35_0  defaults
                             0.9.0                    py36_0  defaults
                          *  0.9.0                    py27_0  defaults
```

我们可以看到有多个版面，然后我们直接运行下面的命令：

```
conda install theano
```

它会选择和我们py版本兼容的最新版本<code>0.9.0                    py27_0</code>.

### 5.2 安装Tensorflow

Tensorflow是Google开源的一个人工智能学习系统。我们使用<code>conda search tensorflow</code>命令查看发现Anaconda库中没有Tensorflow的包。

其实，我们也可以用Anaconda来管理那些使用其他方式安装的包，例如使用pip安装的包。下面简单说明一下使用Anaconda管理使用pip安装的Tensorflow。

- 创建一个名称为tensorflow的conda环境

```
conda create -n tensorflow
```

- 激活conda环境

```
source activate tensorflow
```
激活环境后，在这里执行命令安装的程序，都会被Anaconda管理。


- 使用pip来安装TensorFlow

在这里<code>https://www.tensorflow.org/install/install_mac#the_url_of_the_tensorflow_python_package</code>找到对应版本的URL，也就是下面命令中将会使用到的<code>$TF_PYTHON_URL</code>.

```
(tensorflow)$ pip install --ignore-installed --upgrade $TF_PYTHON_URL
```

例如笔者的是：
```
pip install --ignore-installed --upgrade https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-1.1.0-py2-none-any.whl
```

安装完成后，退出tensorflow这个Anaconda环境：

```
source deactivate tensorflow
```



